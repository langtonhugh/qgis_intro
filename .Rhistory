library(tidyverse)
trams.df <- read_csv("data/Metrolink_Station_Facilities_cleaned.csv")
View(trams.df)
sum(is.na(trams.df))
?pivot_longer
trams.long.df <- pivot_longer(data = trams.df, cols = Altrincham:`Central Park`, name_to = "stop")
trams.long.df <- pivot_longer(data = trams.df, cols = Altrincham:`Central Park`, names_to = "stop")
View(trams.long.df)
trams.long.df <- pivot_longer(data = trams.df,
cols = variable,
names_to = "stop")
View(trams.long.df)
trams.long.df <- pivot_longer(data = trams.df,
cols = Altrincham:`Central Park`,
values_to = variable,
names_to = "stop")
trams.long.df <- pivot_longer(data = trams.df,
cols = Altrincham:`Central Park`,
values_to = "variable",
names_to = "stop")
trams.long.df <- pivot_longer(data = trams.df,
cols = Altrincham:`Central Park`,
values_to = "stop",
names_to = variable)
trams.long.df <- pivot_longer(data = trams.df,
cols = Altrincham:`Central Park`,
values_to = "stop",
names_to = "variable")
trams.long.df <- pivot_longer(data = trams.df,
cols = Altrincham:`Central Park`)
vignette("pivot")
trams.long.df <- pivot_longer(data = trams.df,
names_to = "stop",
cols = Altrincham:`Central Park`)
trams.long.df <- pivot_longer(data = trams.df,
cols = -variable,
names_to = "stop",
values_to = "var")
?pivot_wider
trams.long.df <- trams.df %>%
pivot_longer(cols = -variable,
names_to = "stop",
values_to = "var") %>%
pivot_wider(values_from = var,
name_from = variable)
trams.long.df <- trams.df %>%
pivot_longer(cols = -variable,
names_to = "stop",
values_to = "var") %>%
pivot_wider(values_from = var,
names_from = variable)
View(trams.long.df)
trams.format.df <- trams.df %>%
pivot_longer(cols = -variable,
names_to = "stop",
values_to = "var") %>%
pivot_wider(values_from = var,
names_from = variable)
trams.df <- read_csv("data/Metrolink_Station_Facilities_cleaned.csv")
trams.format.df <- trams.df %>%
pivot_longer(cols = -variable,
names_to = "stop",
values_to = "var") %>%
pivot_wider(values_from = var,
names_from = variable)
View(trams.format.df)
trams2.df <- read_csv("data/TfGMMetroRailStops.csv")
View(trams2.df)
names(trams.df)
names(trams.format.df)
names(trams2.df)
trams2.df <- trams2.df %>%
rename(stop = RSTNAM)
View(trams2.df)
trams.format.df <- trams.df %>%
pivot_longer(cols = -variable,
names_to = "stop",
values_to = "var") %>%
pivot_wider(values_from = var,
names_from = variable) %>%
arrange(stop)
View(trams.format.df)
trams2.df <- trams2.df %>%
arrange(RSTNAM)
library(tidyverse)
trams.df <- read_csv("data/Metrolink_Station_Facilities_cleaned.csv")
trams.format.df <- trams.df %>%
pivot_longer(cols = -variable,
names_to = "stop",
values_to = "var") %>%
pivot_wider(values_from = var,
names_from = variable) %>%
arrange(stop)
trams2.df <- read_csv("data/TfGMMetroRailStops.csv")
trams2.df <- trams2.df %>%
arrange(RSTNAM)
temp <- bind_cols(trams.format.df, trams2.df)
View(temp)
temp <- trams.format.df %>%
bind_cols(trams2.df)  %>%
select(stop, RSTNAM)
View(temp)
View(trams.df)
library(tidyverse)
trams.df <- read_csv("data/Metrolink_Station_Facilities_cleaned.csv")
trams.format.df <- trams.df %>%
pivot_longer(cols = -variable,
names_to = "stop",
values_to = "var") %>%
pivot_wider(values_from = var,
names_from = variable) %>%
arrange(stop)
trams.geo.df <- read_csv("data/TfGMMetroRailStops.csv")
trams.geo.df <- trams.geo.df %>%
arrange(RSTNAM)
library(tidyverse)
trams.df <- read_csv("data/Metrolink_Station_Facilities_cleaned.csv")
trams.format.df <- trams.df %>%
pivot_longer(cols = -variable,
names_to = "stop",
values_to = "var") %>%
pivot_wider(values_from = var,
names_from = variable) %>%
arrange(stop)
trams.geo.df <- read_csv("data/TfGMMetroRailStops.csv")
trams.geo.df <- trams.geo.df %>%
arrange(RSTNAM)
View(trams.format.df)
temp <- trams.format.df %>%
filter(stop != "Woodlands Road") %>%
bind_cols(trams.geo.df)  %>%
select(stop, RSTNAM)
View(temp)
library(tidyverse)
trams.df <- read_csv("data/Metrolink_Station_Facilities_cleaned.csv")
trams.format.df <- trams.df %>%
pivot_longer(cols = -variable,
names_to = "stop",
values_to = "var") %>%
pivot_wider(values_from = var,
names_from = variable) %>%
arrange(stop)
trams.geo.df <- read_csv("data/TfGMMetroRailStops.csv")
trams.geo.df <- trams.geo.df %>%
arrange(RSTNAM)
trams.geo.df <- trams.geo.df %>%
arrange(RSTNAM)
# trams.geo.df has no Woodlands Road tram station because it no longer exists
# trams.geo.df has no Mosley Street tram station because it no longer exists
# trams.format.df had no Exchange Square or Queens Road but I added them manually
temp <- trams.format.df %>%
filter(stop != "Woodlands Road" | stop != "Mosley Street") %>%
bind_cols(trams.geo.df)  %>%
select(stop, RSTNAM)
library(tidyverse)
trams.df <- read_csv("data/Metrolink_Station_Facilities_cleaned.csv")
trams.format.df <- trams.df %>%
pivot_longer(cols = -variable,
names_to = "stop",
values_to = "var") %>%
pivot_wider(values_from = var,
names_from = variable) %>%
arrange(stop)
trams.geo.df <- read_csv("data/TfGMMetroRailStops.csv")
trams.geo.df <- trams.geo.df %>%
arrange(RSTNAM)
temp <- trams.format.df %>%
filter(stop != "Woodlands Road" | stop != "Mosley Street")
temp <- trams.format.df %>%
filter(stop != "Woodlands Road" & stop != "Mosley Street")
# trams.format.df had no Exchange Square or Queens Road but I added them manually
temp <- trams.format.df %>%
filter(stop != "Woodlands Road" & stop != "Mosley Street") %>%
bind_cols(trams.geo.df)  %>%
select(stop, RSTNAM)
View(temp)
trams.format.geo.df <- trams.format.df %>%
filter(stop != "Woodlands Road" & stop != "Mosley Street") %>%
bind_cols(trams.geo.df)
View(trams.format.geo.df)
ggplot(trams.format.geo.df) + geom_point(aes(x = GMGRFE, y = GMGRFN))
ggplot(trams.format.geo.df) + geom_point(aes(x = GPSLAT, y = GPSLON))
ggplot(trams.format.geo.df) + geom_point(aes(y = GPSLAT, x = GPSLON))
trams.format.geo.df <- trams.format.df %>%
filter(stop != "Woodlands Road" & stop != "Mosley Street") %>%
bind_cols(trams.geo.df) %>%
select(RSTNAM, stop, NPTREF:GMGRFN)
View(trams.format.geo.df)
trams.format.geo.df <- trams.format.df %>%
filter(stop != "Woodlands Road" & stop != "Mosley Street") %>%
bind_cols(trams.geo.df) %>%
select(stop, RSTNAM, NPTREF:GMGRFN)
trams.format.geo.df <- trams.format.df %>%
filter(stop != "Woodlands Road" & stop != "Mosley Street") %>%
bind_cols(trams.geo.df)
names(trams.format.geo.df)
trams.format.geo.df <- trams.format.df %>%
filter(stop != "Woodlands Road" & stop != "Mosley Street") %>%
bind_cols(trams.geo.df) %>%
select(stop, RSTNAM, NPTREF:GMGRFN, MAINRD:NETWRF, lifts:Line)
View(trams.format.geo.df)
names(trams.format.geo.df)
names(trams.format.geo.df) <- tolower(names(trams.format.geo.df))
View(trams.format.geo.df)
trams.format.geo.df <- trams.format.df %>%
filter(stop != "Woodlands Road" & stop != "Mosley Street") %>%
bind_cols(trams.geo.df)
names(trams.format.geo.df)
trams.format.geo.df <- trams.format.df %>%
filter(stop != "Woodlands Road" & stop != "Mosley Street") %>%
bind_cols(trams.geo.df) %>%
select(stop, RSTNAM, Line, NPTREF:GMGRFN, MAINRD:NETWRF, lifts:bb_spaces)
names(trams.format.geo.df) <- tolower(names(trams.format.geo.df))
View(trams.format.geo.df)
trams.format.geo.df <- trams.format.df %>%
filter(stop != "Woodlands Road" & stop != "Mosley Street") %>%
bind_cols(trams.geo.df) %>%
select(stop, RSTNAM, Line, NPTREF:GMGRFN, MAINRD:NETWRF, lifts:bb_spaces) %>%
arrange(line, stop)
names(trams.format.geo.df) <- tolower(names(trams.format.geo.df))
trams.format.geo.df <- trams.format.df %>%
filter(stop != "Woodlands Road" & stop != "Mosley Street") %>%
bind_cols(trams.geo.df) %>%
select(stop, RSTNAM, Line, NPTREF:GMGRFN, MAINRD:NETWRF, lifts:bb_spaces) %>%
arrange(Line, stop)
names(trams.format.geo.df) <- tolower(names(trams.format.geo.df))
View(trams.format.geo.df)
trams.format.geo.df <- trams.format.df %>%
filter(stop != "Woodlands Road" & stop != "Mosley Street") %>%
bind_cols(trams.geo.df) %>%
select(stop, RSTNAM, Line, NPTREF:GMGRFN, MAINRD:NETWRF, lifts:bb_spaces) %>%
arrange(Line)
names(trams.format.geo.df) <- tolower(names(trams.format.geo.df))
View(trams.format.geo.df)
write_csv(x = trams.format.geo.df, path = "data/trams_geo.csv")
library(tidyverse)
trams.df <- read_csv("data/Metrolink_Station_Facilities_cleaned.csv")
trams.format.df <- trams.df %>%
pivot_longer(cols = -variable,
names_to = "stop",
values_to = "var") %>%
pivot_wider(values_from = var,
names_from = variable) %>%
arrange(stop)
trams.geo.df <- read_csv("data/TfGMMetroRailStops.csv")
trams.geo.df <- trams.geo.df %>%
arrange(RSTNAM)
# trams.geo.df has no Woodlands Road tram station because it no longer exists
# trams.geo.df has no Mosley Street tram station because it no longer exists
# trams.format.df had no Exchange Square or Queens Road but I added them manually
trams.format.geo.df <- trams.format.df %>%
filter(stop != "Woodlands Road" & stop != "Mosley Street") %>%
bind_cols(trams.geo.df) %>%
select(stop, RSTNAM, Line, NPTREF:GMGRFN, MAINRD:NETWRF, lifts:bb_spaces) %>%
arrange(Line)
names(trams.format.geo.df) <- tolower(names(trams.format.geo.df))
write_csv(x = trams.format.geo.df, path = "data/trams_geo.csv")
View(trams.geo.df)
